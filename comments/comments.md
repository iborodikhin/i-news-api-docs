Комментарии
===========

Получение всех комментариев к новости.
-----------------------------
Уровень доступа — **public**

```
GET https://api.i-news.kz/comment/get-all?newsId=7842053&appId=***&appKey=***
```

```
[
    {"id" : "14582", "newsId" : "7842053", "name" : "Имя автора", "email" : "Email автора", "text" : "Текст комментария", "timestamp" : "1418045822"},
    …
]
```

Получение нескольких комментариев.
-----------------------------
Уровень доступа — **public**

```
GET https://api.i-news.kz/comment/get-many?ids[0]=14582&ids[1]=14586&appId=***&appKey=***
```

```
[
    {"id" : "14582", "newsId" : "7842053", "name" : "Имя автора", "email" : "Email автора", "text" : "Текст комментария", "timestamp" : "1418045822"},
    {"id" : "14586", "newsId" : "7842053", "name" : "Имя автора", "email" : "Email автора", "text" : "Текст комментария", "timestamp" : "1418051944"},
    …
]
```

Получение комментария по id.
-----------------------------
Уровень доступа — **public**

```
GET https://api.i-news.kz/comment/get-one?id=14582&appId=***&appKey=***
```

```
{"id" : "14582", "newsId" : "7842053", "name" : "Имя автора", "email" : "Email автора", "text" : "Текст комментария", "timestamp" : "1418045822"}
```

Сохранение комментария.
------------------------------------------
Уровень доступа — **public**

```
POST https://api.i-news.kz/comment/save?appId=***&appKey=***
id=7845511&name=*имя автора*&…
```

```
{
    "status" : "ok"
}
```

**Внимание!** Для приложений с уровнем доступа ниже *private* обнуляется параметр id (т.е. редактирование комментариев запрещено).

Поиск комментариев.
-------------------

```
GET https://api.i-news.kz/comment/search?query[news_id]=7842053&limit=5&offset=10&order_by[0][tstamp]=desc&appId=***&appKey=***
```

```
[
    {"id" : "14582", "newsId" : "7842053", "name" : "Имя автора", "email" : "Email автора", "text" : "Текст комментария", "timestamp" : "1418045822"},
    …
]
```

**Внимание!** Названия полей при поиске отличаются от названий в ответах.


Отписка от уведомлений о новых комментарияx.
-----------------------------
Уровень доступа — **public**

```
GET https://api.i-news.kz/comment/unsubscribe?key=***&appId=***&appKey=***
```

```
{
    "status" : "ok"
}
```

Удаление комментария.
------------------------------------------
Уровень доступа — **private**

```
GET https://api.i-news.kz/comment/remove?id=14582&appId=***&appKey=***
```

```
{
    "status" : "ok"
}
```

Бан автора комментария по IP.
------------------------------------------
Уровень доступа — **private**

```
GET https://api.i-news.kz/comment/ban?id=14582&appId=***&appKey=***
```

```
{
    "status" : "ok"
}
```

Добавление текста комментария в спам-лист.
------------------------------------------
Уровень доступа — **private**

```
GET https://api.i-news.kz/comment/set-spam?id=14582&appId=***&appKey=***
```

```
{
    "status" : "ok"
}
```
